<!--
Application Name = Indoor Navigation
Version = 1.0
Release Date = September 06, 2017
Copyright = Â©2017 SRISYS Inc
Developed by = Srisys Inc, 7908 Cincinnati Dayton Rd, Suite C, West Chester,
OH 45069 USA web: www.srisys.com <http://www.srisys.com>
 -->
<div bsModal #lgModal="bs-modal" class="modal fade" [config]="{backdrop: 'static'}" (keyup.Esc)="hideuimageModal()" tabindex="-1"
  role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" (click)="hideuimageModal()" aria-label="Close" data-dismiss="modal">
          <span aria-hidden="true">&times;</span>
        </button>
        <div class="row">
          <div class="col-md-12">
            <app-logoheader></app-logoheader>
            <img src="{{apiEndPoint}}/{{enterpriseIconFilePath}}" onError="this.onerror=null;this.src='assets/img/logo.png';" height="30"
              class="pull-right">
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <h5 class="popupsection-title">{{pagename | translate }}</h5>
          </div>
        </div>
      </div>
      <div class="modal-body">

        <div class="clearfix"></div>
        <div class="row" *ngIf="[actionName] == 'View' || [actionName] == 'Delete'">
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 form-group">
                <label>{{'COMMON_FIELDS.ENTERPRISE' | translate}}</label>
                <input type="text" class="form-control input-sm" id="enterpriseName" name="enterpriseName" value="{{selectedObj.enterprise.enterpriseName}}"
                  disabled>
                <input type="hidden" name="enterpriseId" class="form-control" id="enterpriseId" value="{{selectedObj.enterprise.enterpriseId}}">
              </div>
              <div class="col-md-6 form-group">
                <label>{{'UNIVERSAL_IMAGES.UNIVERSAL_IMAGE_NAME' | translate}}</label>
                <input type="text" class="form-control input-sm" id="imageName" name="imageName" value="{{selectedObj.universalImageName}}"
                  disabled>
              </div>
              <div class="col-md-6 form-group">
                <label>{{'COMMON_FIELDS.DESCRIPTION' | translate}}</label>
                <input type="text" class="form-control input-sm" id="imagedesc" name="imagedesc" value="{{selectedObj.description}}" disabled>
              </div>
              <div class="col-md-6 form-group">
                <label class="checkbox-inline" for="inline-checkbox1">        
            <label>{{'COMMON_FIELDS.ENABLED' | translate}}</label>
                <input id="inline-checkbox1" name="inline-checkbox1" type="checkbox" [(ngModel)]="selectedObj.isEnabled" value="{{selectedObj.isEnabled}}"
                  disabled class="regular-checkbox big-checkbox">
                <label for="inline-checkbox1"></label>
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-4 img-block">
            <div class="row img-block-content">
              <div class="col-md-12 img-block-column">
                <label class="form-control-label">{{'UNIVERSAL_IMAGES.UNIVERSAL_IMAGE' | translate}}</label>
                <img alt="" class="" id="profilepageprofilePicimg" src="{{APIendpoint}}{{selectedObj.universalImageFilePath}}" height="78"
                  onError="this.onerror=null;this.src='/assets/img/default-profile-icon.png';">
              </div>
            </div>
          </div>
          <div class="col-md-8 form-group">
            <label>{{'COMMON_FIELDS.NOTES' | translate}}</label>
            <textarea id="commentId" name="commentName" (keypress)="clearmessage()" rows="2" class="form-control input-sm" maxlength="200"
              [(ngModel)]="selectedObj.notes" disabled></textarea>
          </div>
          <div class="col-md-4 form-group uploadjsbtn">
            <div class="input-group"><label>{{universalimgname}}</label></div>
            <div class="col-md-7">
              <div class="input-file-container">
                <input class="input-file" id="file-input" type="file" (change)="imageUploaded($event)" [(ngModel)]="file" accept='image/*|video/*'
                  disabled>
                <label tabindex="0" for="my-file" class="input-file-trigger">{{'COMMON_FIELDS.CHOOSE_FILE' | translate}}</label>
              </div>
            </div>
          </div>
        </div>
        <div class="row" *ngIf="[actionName] == 'Edit'">
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 form-group">
                <label>{{'COMMON_FIELDS.ENTERPRISE' | translate}}</label>
                <input type="text" class="form-control input-sm" id="enterpriseName" name="enterpriseName" [(ngModel)]="selectedObj.enterprise.enterpriseName"
                  disabled>
                <input type="hidden" name="enterpriseId" class="form-control" id="enterpriseId" [(ngModel)]="selectedObj.enterprise.enterpriseId">
              </div>
              <div class="col-md-6 form-group">
                <label><span class="text-danger">*</span>{{'UNIVERSAL_IMAGES.UNIVERSAL_IMAGE_NAME' | translate}}</label>
                <input type="text" class="text-capitalize form-control input-sm" id="imageName" name="imageName" onkeypress="return event.charCode != 34"
                  [(ngModel)]="universalImageName">
              </div>
              <div class="col-md-6 form-group">
                <label><span class="text-danger">*</span>{{'COMMON_FIELDS.DESCRIPTION' | translate}}</label>
                <input type="text" class="form-control input-sm" id="imagedesc" name="imagedesc" onkeypress="return event.charCode != 34"
                  [(ngModel)]="description">
              </div>
              <div class="col-md-6 form-group">
                <label class="checkbox-inline" for="inline-checkbox1">        
            <label>{{'COMMON_FIELDS.ENABLED' | translate}}</label>
                <input id="inline-checkbox1" name="inline-checkbox1" type="checkbox" [(ngModel)]="isEnabled" class="regular-checkbox big-checkbox">
                <label for="inline-checkbox1"></label>
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-4 img-block">
            <div class="row img-block-content">
              <div class="col-md-12 img-block-column">
                <label class="form-control-label">{{'UNIVERSAL_IMAGES.UNIVERSAL_IMAGE' | translate}}</label>
                <img alt="" class="" id="profilepageprofilePicimg" [src]="imgSrc" onError="this.onerror=null;this.src='/assets/img/default-profile-icon.png';">
              </div>
            </div>
          </div>
          <div class="col-md-8 form-group">
            <label>{{'COMMON_FIELDS.NOTES' | translate}}</label>
            <textarea id="commentId" name="commentName" (keypress)="clearmessage()" rows="2" class="form-control input-sm" maxlength="200"
              onkeypress="return event.charCode != 34" [(ngModel)]="note"></textarea>
          </div>
          <div class="col-md-4 form-group uploadjsbtn">
            <div class="input-group">
              <label>{{universalimgname}}</label>
            </div>
            <div class="input-file-container">
              <input class="input-file" id="file-input" type="file" [(ngModel)]="file" (change)="clearmessage()" accept='image/*' name="file-input"
                (change)="imageUploaded($event)">
              <label tabindex="0" for="my-file" class="input-file-trigger">{{'COMMON_FIELDS.CHOOSE_FILE' | translate}}</label>
            </div>
            <div class="file-return" id="edituniversalimg"></div>
          </div>
        </div>
        <div class="row" *ngIf="[actionName] == 'Create'">
          <div class="col-md-8">
            <div class="row">
              <div class="col-md-6 form-group">
                <label><span class="text-danger">*</span>{{'COMMON_FIELDS.ENTERPRISE' | translate}}</label>
                <select *ngIf="[enterprisesSize] == 'false'" id="enterpriseId" (change)="getEnterpriseName($event.target.value); clearmessage()"
                  name="enterprise" class="form-control input-sm" size="1">
                  <option value="">{{'COMMON_FIELDS.SELECT_BOX_DEFAULT' | translate}}</option>
                  <option *ngFor="let clang of enterprisesNames;" value="{{clang._id+'~'+clang.enterpriseName+'~'+clang.enterpriseIconFilePath+'~'+clang.enterpriseIcon}}">{{clang.enterpriseName}}</option>
                 </select>
                <input *ngIf="[enterprisesSize] == 'true'" type="text" [(ngModel)]="enterprisename" class="form-control input-sm" id="enterpriseId"
                  name="enterprise" disabled>
              </div>
              <div class="col-md-6 form-group">
                <label><span class="text-danger">*</span>{{'UNIVERSAL_IMAGES.UNIVERSAL_IMAGE_NAME' | translate}}</label>
                <input type="text" (keypress)="clearmessage()" class="text-capitalize form-control input-sm" id="imagename" name="imagename"
                  onkeypress="return event.charCode != 34" [(ngModel)]="imageName" value="">
              </div>
              <div class="col-md-6 form-group">
                <label><span class="text-danger">*</span>{{'COMMON_FIELDS.DESCRIPTION' | translate}}</label>
                <input type="text" (keypress)="clearmessage()" class="text-capitalize form-control input-sm" id="imagedesc" name="imagedesc"
                  onkeypress="return event.charCode != 34" [(ngModel)]="imagedesc" value="">
              </div>
              <div class="col-md-6 form-group">
                <label class="checkbox-inline" for="inline-checkbox1">        
            <label>{{'COMMON_FIELDS.ENABLED' | translate}}</label>
                <input id="inline-checkbox1" name="inline-checkbox1" [(ngModel)]="enabled" type="checkbox" class="regular-checkbox big-checkbox">
                <label for="inline-checkbox1"></label>
                </label>
              </div>
            </div>
          </div>
          <div class="col-md-4 img-block">
            <div class="row img-block-content">
              <div class="col-md-12 img-block-column">
                <label class="form-control-label"><span class="text-danger">*</span>{{'UNIVERSAL_IMAGES.UNIVERSAL_IMAGE' | translate}}</label>
                <img alt="" class="" id="profilepageprofilePicimg" [src]="imgSrc" onError="this.onerror=null;this.src='/assets/img/default-profile-icon.png';">
              </div>
            </div>
          </div>
          <div class="col-md-8 form-group">
            <label>{{'COMMON_FIELDS.NOTES' | translate}}</label>
            <textarea id="commentId" name="commentName" (keypress)="clearmessage()" rows="2" class="form-control input-sm" maxlength="200"
              onkeypress="return event.charCode != 34" [(ngModel)]="comments"></textarea>
          </div>
          <div class="col-md-4 form-group uploadjsbtn">
              <div class="input-group"><label>&nbsp;</label></div>
              <div class="input-file-container">
                  <input class="input-file" id="file-input" type="file" (change)="imageUploaded($event)" [(ngModel)]="file" accept='image/*' name="file">
                  <label tabindex="0" for="my-file" class="input-file-trigger">{{'COMMON_FIELDS.CHOOSE_FILE' | translate}}</label>
                </div>
                <div class="file-return" id="createuniversalimg">{{'COMMON_FIELDS.NO_FILE_CHOSEN' | translate}}</div>
            </div>
        </div>
        <p-accordion>
          <p-accordionTab *ngIf="[actionName] != 'Create'" header="{{'COMMON_RECORD_HISTORY_BLOCK.RECORD_HISTORY' | translate}}">
            <div class="row">
              <div class="col-md-6 form-group">
                <label>{{'COMMON_RECORD_HISTORY_BLOCK.CREATED_BY' | translate}}</label>
                <input type="text" class="form-control input-sm" id="createdId" name="createdName" disabled value="{{selectedObj?.createdBy}}">
              </div>
              <div class="col-md-6 form-group">
                <label>{{'COMMON_RECORD_HISTORY_BLOCK.CREATED_DATE' | translate}}</label>
                <input type="text" class="form-control input-sm" id="createdId" name="createdName" disabled value="{{createAt}}">
              </div>
              <div class="col-md-6 form-group">
                <label>{{'COMMON_RECORD_HISTORY_BLOCK.LAST_UPDATED_BY' | translate}}</label>
                <input type="text" class="form-control input-sm" id="createdId" name="createdName" disabled value="{{selectedObj?.updatedBy}}">
              </div>
              <div class="col-md-6 form-group">
                <label>{{'COMMON_RECORD_HISTORY_BLOCK.LAST_UPDATED_DATE' | translate}}</label>
                <input type="text" class="form-control input-sm" id="createdId" name="createdName" disabled value="{{updateAt}}">
              </div>
            </div>
          </p-accordionTab>
        </p-accordion>
      </div>
      <div class="modal-footer">
        <div id="login_popup_error" class="text-danger text-center"> {{error | translate}}</div>
        <div class="col-md-12 p0 fleetft">
          <div class="pull-left">
            <app-powered></app-powered>
          </div>
          <div class="pull-right text-right" *ngIf="[actionName] == 'Create'">
            <button class="btn btn-primary" (click)="createResource()">{{'COMMON_BUTTONS.BUTTON_SUBMIT' | translate}}</button>
            <button class="btn btn-primary" (click)="hideuimageModal()">{{'COMMON_BUTTONS.BUTTON_CLOSE' | translate}}</button>
          </div>
          <div class="pull-right text-right" *ngIf="[actionName] == 'Edit'">
            <button class="btn btn-primary" (click)="updateUniversalImage()">{{'COMMON_BUTTONS.BUTTON_SUBMIT' | translate}}</button>
            <button class="btn btn-primary" (click)="hideuimageModal()">{{'COMMON_BUTTONS.BUTTON_CLOSE' | translate}}</button>
          </div>
          <div class="pull-right pull-right" *ngIf="[actionName] == 'View'">
            <button class="btn btn-primary pull-right" (click)="hideuimageModal()">{{'COMMON_BUTTONS.BUTTON_CLOSE' | translate}}</button>
          </div>
          <div class="pull-right text-right" *ngIf="[actionName] == 'Delete'">
            <button class="btn btn-primary" (click)="deleteImage()">{{'COMMON_BUTTONS.BUTTON_DELETE' | translate}}</button>
            <button class="btn btn-primary" (click)="hideuimageModal()">{{'COMMON_BUTTONS.BUTTON_CLOSE' | translate}}</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>